.home {
  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 1.5rem;
  }

  // ── Hero ───────────────────────────────────────────────────────────────────
  .hero {
    min-height: 78vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white;
    position: relative;
    overflow: hidden;
    background:
      linear-gradient(to bottom, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0.62) 100%),
      url('https://images.unsplash.com/photo-1487530811176-3780de880c2d?w=1800&q=90') center/cover no-repeat;

    @media (max-width: 600px) { min-height: 88vh; }

    // Floating Petals
    .petals {
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 1;

      .petal {
        position: absolute;
        font-size: 1.4rem;
        opacity: 0;
        animation: petalDrift linear infinite;

        &.p1 { left: 8%;   animation-duration: 9s;  animation-delay: 0s;    font-size: 1.1rem; }
        &.p2 { left: 18%;  animation-duration: 11s; animation-delay: 1.5s;  font-size: 1.6rem; }
        &.p3 { left: 32%;  animation-duration: 8s;  animation-delay: 3s;    font-size: 1rem;   }
        &.p4 { left: 48%;  animation-duration: 13s; animation-delay: 0.5s;  font-size: 1.4rem; }
        &.p5 { left: 62%;  animation-duration: 10s; animation-delay: 2s;    font-size: 1.2rem; }
        &.p6 { left: 74%;  animation-duration: 7s;  animation-delay: 4s;    font-size: 1rem;   }
        &.p7 { left: 85%;  animation-duration: 12s; animation-delay: 1s;    font-size: 1.5rem; }
        &.p8 { left: 93%;  animation-duration: 9s;  animation-delay: 3.5s;  font-size: 1.1rem; }
      }
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 680px;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.25rem;
      animation: fadeInUp 0.9s ease both;

      .hero-tag {
        display: inline-block;
        background: rgba(255,255,255,0.15);
        border: 1px solid rgba(255,255,255,0.4);
        backdrop-filter: blur(8px);
        color: white;
        font-size: 0.78rem;
        font-weight: 600;
        letter-spacing: 1.2px;
        text-transform: uppercase;
        padding: 0.38rem 1.1rem;
        border-radius: var(--radius-full);
      }

      h1 {
        font-size: 3.8rem;
        font-weight: 700;
        line-height: 1.12;
        margin: 0;
        text-shadow: 0 3px 20px rgba(0,0,0,0.4);

        em {
          font-style: italic;
          font-weight: 400;
          color: #ffc8df;
        }

        @media (max-width: 600px) { font-size: 2.4rem; }
      }

      p {
        font-size: 1.05rem;
        opacity: 0.88;
        margin: 0;
        max-width: 520px;
        line-height: 1.7;
      }

      .hero-actions {
        display: flex;
        gap: 0.9rem;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 0.25rem;

        .btn-shop-now {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          background: white;
          color: #1a1a1a;
          border: none;
          padding: 0.9rem 2.1rem;
          border-radius: var(--radius-full);
          font-size: 0.98rem;
          font-weight: 700;
          cursor: pointer;
          box-shadow: 0 8px 28px rgba(0,0,0,0.25);
          transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;

          svg { transition: transform 0.3s ease; }

          &:hover {
            background: #fdf0f5;
            transform: translateY(-3px);
            box-shadow: 0 16px 40px rgba(0,0,0,0.3);
            svg { transform: translateY(3px); }
          }

          &:active { transform: translateY(0); }
        }

        .btn-builder {
          display: inline-flex;
          align-items: center;
          padding: 0.9rem 1.85rem;
          border-radius: var(--radius-full);
          border: 2px solid rgba(255,255,255,0.8);
          color: white;
          font-size: 0.95rem;
          font-weight: 700;
          text-decoration: none;
          background: rgba(200,75,122,0.55);
          backdrop-filter: blur(6px);
          transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
          box-shadow: 0 4px 18px rgba(200,75,122,0.4);

          &:hover {
            background: rgba(200,75,122,0.75);
            transform: translateY(-3px);
            box-shadow: 0 8px 28px rgba(200,75,122,0.5);
          }
        }

        .btn-outline {
          display: inline-flex;
          align-items: center;
          padding: 0.9rem 2rem;
          border-radius: var(--radius-full);
          border: 2px solid rgba(255,255,255,0.65);
          color: white;
          font-size: 0.95rem;
          font-weight: 600;
          backdrop-filter: blur(6px);
          background: rgba(255,255,255,0.1);
          transition: background 0.2s ease, border-color 0.2s ease, transform 0.2s ease;

          &:hover {
            background: rgba(255,255,255,0.2);
            border-color: white;
            transform: translateY(-3px);
          }
        }
      }

      .hero-trust {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 0.82rem;
        opacity: 0.8;
        flex-wrap: wrap;
        justify-content: center;

        .dot { opacity: 0.4; }
      }
    }
  }

  // ── Features Strip ─────────────────────────────────────────────────────────
  .features {
    padding: 2.5rem 0;
    background: white;
    border-bottom: 1px solid var(--border);

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;

      @media (max-width: 900px) { grid-template-columns: repeat(2, 1fr); }
      @media (max-width: 480px) { grid-template-columns: 1fr 1fr; gap: 1rem; }
    }

    .feature-card {
      display: flex;
      align-items: center;
      gap: 0.9rem;
      padding: 1.25rem 1rem;
      background: var(--bg);
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
      cursor: default;

      &:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-sm);
        border-color: #d4b8c6;
      }

      .feature-icon {
        font-size: 2rem;
        flex-shrink: 0;
        line-height: 1;
      }

      h3 {
        font-family: 'Poppins', sans-serif;
        font-size: 0.88rem;
        font-weight: 600;
        color: var(--text);
        margin-bottom: 0.15rem;
      }

      p {
        font-size: 0.78rem;
        color: var(--text-muted);
        margin: 0;
      }
    }
  }

  // ── Collection Section ─────────────────────────────────────────────────────
  .all-products {
    padding: 4rem 0;
    background: var(--bg);

    .section-header {
      text-align: center;
      margin-bottom: 2.5rem;

      .section-tag {
        display: inline-block;
        background: var(--accent-light);
        color: var(--accent);
        font-size: 0.75rem;
        font-weight: 700;
        letter-spacing: 1.2px;
        text-transform: uppercase;
        padding: 0.3rem 1rem;
        border-radius: var(--radius-full);
        margin-bottom: 0.75rem;
      }

      h2 {
        font-size: 2.1rem;
        color: var(--text);
        font-weight: 700;
        margin-bottom: 0.5rem;
        letter-spacing: -0.5px;
      }

      p {
        color: var(--text-muted);
        font-size: 0.92rem;
        max-width: 420px;
        margin: 0 auto;
      }
    }

    // Category Filters
    .category-filters {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 2rem;

      @media (max-width: 600px) {
        flex-wrap: nowrap;
        overflow-x: auto;
        padding-bottom: 0.4rem;
        scrollbar-width: none;
        &::-webkit-scrollbar { display: none; }
      }

      .filter-pill {
        padding: 0.42rem 1.1rem;
        border-radius: var(--radius-full);
        border: 1.5px solid var(--border);
        background: white;
        color: #666;
        font-size: 0.82rem;
        font-weight: 500;
        cursor: pointer;
        white-space: nowrap;
        transition: all 0.2s ease;

        &:hover {
          border-color: var(--accent);
          color: var(--accent);
          background: var(--accent-light);
        }

        &.active {
          background: var(--accent);
          border-color: var(--accent);
          color: white;
          font-weight: 600;
          box-shadow: 0 4px 14px rgba(200,75,122,0.3);
        }
      }
    }

    // Active search filters bar
    .active-search-bar {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      flex-wrap: wrap;
      margin-bottom: 1.25rem;
      padding: 0.65rem 1rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-md);

      .results-count {
        font-size: 0.78rem;
        font-weight: 700;
        color: var(--accent);
        white-space: nowrap;
      }

      .active-chips {
        display: flex;
        gap: 0.35rem;
        flex-wrap: wrap;
        flex: 1;
      }

      .filter-tag {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        background: var(--accent-light);
        color: var(--accent);
        border: 1px solid rgba(200,75,122,0.25);
        border-radius: var(--radius-full);
        padding: 0.18rem 0.5rem 0.18rem 0.6rem;
        font-size: 0.72rem;
        font-weight: 600;

        button {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--accent);
          font-size: 0.88rem;
          line-height: 1;
          padding: 0;
          opacity: 0.6;
          transition: opacity 0.15s ease;

          &:hover { opacity: 1; }
        }
      }

      .clear-filters-btn {
        margin-left: auto;
        background: none;
        border: 1.5px solid var(--border);
        border-radius: var(--radius-full);
        padding: 0.2rem 0.75rem;
        font-size: 0.72rem;
        font-weight: 600;
        color: var(--text-muted);
        cursor: pointer;
        font-family: inherit;
        white-space: nowrap;
        transition: border-color 0.15s ease, color 0.15s ease;

        &:hover {
          border-color: var(--accent);
          color: var(--accent);
        }
      }
    }

    // Product Grid
    .product-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 1.25rem;

      @media (max-width: 1200px) { grid-template-columns: repeat(4, 1fr); }
      @media (max-width: 900px)  { grid-template-columns: repeat(3, 1fr); }
      @media (max-width: 600px)  { grid-template-columns: repeat(2, 1fr); gap: 0.75rem; }
    }

    // Product Card — 3D Flip
    .product-card {
      perspective: 1000px;
      cursor: pointer;
      height: 340px;
      position: relative;

      @media (max-width: 600px) { height: 230px; }

      .urgency-badge {
        position: absolute;
        top: 0.6rem; left: 0.6rem;
        z-index: 10;
        background: linear-gradient(135deg, #ff4b4b, #c84b7a);
        color: white;
        font-size: 0.6rem;
        font-weight: 700;
        padding: 0.22rem 0.65rem;
        border-radius: var(--radius-full);
        letter-spacing: 0.3px;
        box-shadow: 0 3px 10px rgba(200,75,122,0.4);
        animation: badgePulse 2s ease-in-out infinite;
        white-space: nowrap;
      }

      .card-inner {
        position: relative;
        width: 100%; height: 100%;
        transform-style: preserve-3d;
        transition: transform 0.62s cubic-bezier(0.4, 0.2, 0.2, 1);
        border-radius: var(--radius-md);
      }

      &:hover .card-inner { transform: rotateY(180deg); }

      // ── Shared face styles
      .card-front,
      .card-back {
        position: absolute;
        inset: 0;
        border-radius: var(--radius-md);
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        overflow: hidden;
      }

      // ── Front face
      .card-front {
        background: var(--bg-card);
        border: 1px solid var(--border);
        box-shadow: var(--shadow-sm);
        display: flex;
        flex-direction: column;

        .front-image {
          position: relative;
          flex: 1;
          overflow: hidden;
          background: var(--accent-light);

          img {
            width: 100%; height: 100%;
            object-fit: cover;
            transition: transform 0.45s ease;
          }

          .category-badge {
            position: absolute;
            top: 0.5rem; left: 0.5rem;
            background: rgba(0,0,0,0.62);
            color: white;
            padding: 0.18rem 0.5rem;
            border-radius: var(--radius-full);
            font-size: 0.59rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.4px;
            backdrop-filter: blur(4px);
          }

          .rating-badge {
            position: absolute;
            top: 0.5rem; right: 0.5rem;
            background: rgba(255,255,255,0.92);
            color: #333;
            padding: 0.18rem 0.48rem;
            border-radius: var(--radius-full);
            font-size: 0.64rem;
            font-weight: 700;
            box-shadow: 0 1px 4px rgba(0,0,0,0.12);
          }

          .wishlist-btn {
            position: absolute;
            top: 0.6rem; left: 0.6rem;
            width: 30px; height: 30px;
            border-radius: 50%;
            border: none;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(4px);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ccc;
            transition: all 0.2s ease;
            z-index: 5;
            padding: 0;

            &:hover {
              color: var(--accent);
              transform: scale(1.15);
              background: rgba(255, 255, 255, 0.95);
            }

            &.active {
              color: var(--accent);
              background: rgba(200, 75, 122, 0.12);
            }
          }
        }

        .front-info {
          padding: 0.75rem 0.85rem;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 0.5rem;
          border-top: 1px solid var(--border);
          flex-shrink: 0;

          @media (max-width: 600px) {
            padding: 0.5rem 0.6rem;
          }

          h3 {
            font-family: 'Poppins', sans-serif;
            font-size: 0.78rem;
            font-weight: 600;
            color: var(--text);
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;

            @media (max-width: 600px) { font-size: 0.7rem; }
          }

          .price {
            font-size: 0.92rem;
            font-weight: 800;
            color: var(--accent);
            flex-shrink: 0;

            @media (max-width: 600px) { font-size: 0.82rem; }
          }
        }
      }

      // ── Back face
      .card-back {
        background: linear-gradient(160deg, #3d1530 0%, #7a2048 55%, #c84b7a 100%);
        color: white;
        transform: rotateY(180deg);
        display: flex;
        align-items: stretch;
        box-shadow: var(--shadow-md);

        .back-content {
          padding: 1.1rem 1rem;
          width: 100%;
          display: flex;
          flex-direction: column;
          justify-content: space-between;

          @media (max-width: 600px) { padding: 0.65rem 0.7rem; }

          .back-category {
            display: inline-block;
            align-self: flex-start;
            background: rgba(255,255,255,0.18);
            border: 1px solid rgba(255,255,255,0.3);
            padding: 0.14rem 0.58rem;
            border-radius: var(--radius-full);
            font-size: 0.58rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.6px;
            margin-bottom: 0.35rem;
          }

          h3 {
            font-family: 'Poppins', sans-serif;
            font-size: 0.84rem;
            font-weight: 700;
            margin: 0 0 0.35rem;
            color: white;
            line-height: 1.3;
          }

          .back-desc {
            font-size: 0.71rem;
            opacity: 0.82;
            line-height: 1.55;
            flex: 1;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            margin: 0;
          }

          .back-meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 0.55rem 0;
            padding: 0.38rem 0;
            border-top: 1px solid rgba(255,255,255,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.2);

            .back-rating { font-size: 0.71rem; font-weight: 600; }

            .back-price {
              font-size: 0.96rem;
              font-weight: 800;
              color: #ffd4e8;
            }
          }

          .back-actions {
            display: flex;
            gap: 0.45rem;
            align-items: center;

            .btn-add-back {
              flex: 1;
              padding: 0.5rem 0.5rem;
              background: white;
              color: var(--accent);
              border: none;
              border-radius: var(--radius-sm);
              font-size: 0.7rem;
              font-weight: 700;
              cursor: pointer;
              font-family: inherit;
              transition: transform 0.15s ease, box-shadow 0.15s ease;
              box-shadow: 0 3px 10px rgba(0,0,0,0.2);

              &:hover {
                transform: translateY(-1px);
                box-shadow: 0 6px 16px rgba(0,0,0,0.28);
              }
              &:active { transform: translateY(0); }
            }

            .quantity-control {
              flex: 1;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 1.5px solid rgba(255,255,255,0.55);
              border-radius: var(--radius-sm);
              overflow: hidden;

              .qty-btn {
                background: rgba(255,255,255,0.18);
                color: white;
                border: none;
                width: 26px;
                height: 30px;
                font-size: 1.05rem;
                font-weight: 700;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: background 0.15s ease;

                &:hover { background: rgba(255,255,255,0.32); }
              }

              .qty-value {
                min-width: 26px;
                text-align: center;
                font-weight: 800;
                font-size: 0.84rem;
                color: white;
                background: rgba(255,255,255,0.1);
                height: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
              }
            }

            .btn-view-back {
              padding: 0.5rem 0.65rem;
              border: 1.5px solid rgba(255,255,255,0.55);
              border-radius: var(--radius-sm);
              color: white;
              font-size: 0.7rem;
              font-weight: 600;
              text-decoration: none;
              transition: background 0.15s ease;
              white-space: nowrap;
              backdrop-filter: blur(4px);

              &:hover { background: rgba(255,255,255,0.16); }
            }
          }
        }
      }
    }

    // Empty State
    .empty-state {
      text-align: center;
      padding: 4rem 1rem;
      color: var(--text-muted);

      span { font-size: 3.5rem; display: block; margin-bottom: 1rem; }
      p    { font-size: 1rem; }
    }
  }

  // ── Newsletter ─────────────────────────────────────────────────────────────
  .newsletter {
    position: relative;
    overflow: hidden;
    padding: 4rem 0;
    background: linear-gradient(135deg, #2d1b26 0%, #5c2040 50%, #8b2252 100%);
    color: white;
    text-align: center;

    .newsletter-deco {
      position: absolute;
      inset: 0;
      pointer-events: none;
      display: flex;
      align-items: center;
      justify-content: space-around;
      font-size: 4rem;
      opacity: 0.06;
      user-select: none;
    }

    .container { position: relative; z-index: 1; }

    .newsletter-content {
      max-width: 520px;
      margin: 0 auto;
    }

    .newsletter-tag {
      display: inline-block;
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.3);
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 1px;
      text-transform: uppercase;
      padding: 0.3rem 1rem;
      border-radius: var(--radius-full);
      margin-bottom: 1rem;
    }

    h2 {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 0.6rem;
    }

    p {
      opacity: 0.82;
      margin-bottom: 1.75rem;
      font-size: 0.92rem;
      line-height: 1.7;
    }

    .newsletter-form {
      display: flex;
      gap: 0.6rem;
      max-width: 420px;
      margin: 0 auto;
      flex-wrap: wrap;
      justify-content: center;

      input {
        flex: 1;
        min-width: 200px;
        padding: 0.8rem 1.2rem;
        border: none;
        border-radius: var(--radius-full);
        font-size: 0.9rem;
        outline: none;
        background: rgba(255,255,255,0.15);
        color: white;
        border: 1.5px solid rgba(255,255,255,0.3);
        font-family: inherit;
        backdrop-filter: blur(6px);
        transition: background 0.2s ease, border-color 0.2s ease;

        &::placeholder { color: rgba(255,255,255,0.55); }

        &:focus {
          background: rgba(255,255,255,0.22);
          border-color: rgba(255,255,255,0.6);
        }
      }

      .btn-subscribe {
        padding: 0.8rem 1.5rem;
        background: white;
        color: var(--accent);
        border: none;
        border-radius: var(--radius-full);
        font-size: 0.9rem;
        font-weight: 700;
        cursor: pointer;
        font-family: inherit;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        box-shadow: 0 4px 16px rgba(0,0,0,0.2);

        &:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(0,0,0,0.3);
        }
      }
    }
  }
}

// ── Cart Toast ────────────────────────────────────────────────────────────────
.cart-toast {
  position: fixed;
  top: 5rem;
  right: 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  background: white;
  border: 1px solid #b7e4c7;
  color: var(--text);
  padding: 0.8rem 1.2rem;
  border-radius: var(--radius-md);
  box-shadow: 0 8px 32px rgba(39, 174, 96, 0.15);
  z-index: 9999;
  opacity: 0;
  transform: translateY(-12px) scale(0.96);
  pointer-events: none;
  transition: opacity 0.3s ease, transform 0.3s ease;

  &.show {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: auto;
  }

  .toast-icon {
    width: 34px;
    height: 34px;
    background: #27ae60;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: white;
    transition: background 0.2s ease;
  }

  .toast-text {
    display: flex;
    flex-direction: column;

    .toast-title {
      font-size: 0.8rem;
      font-weight: 700;
      color: #27ae60;
    }

    .toast-name {
      font-size: 0.75rem;
      color: var(--text-muted);
      max-width: 180px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }

  &.removed {
    .toast-icon { background: var(--error); }
    .toast-title { color: var(--error); }
  }
}
